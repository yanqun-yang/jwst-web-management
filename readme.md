# jwst-web-management
---
## 接口


---
## 知识点

### 事务

#### 事务属性-回滚rollbackFor

默认情况下，只有出现RuntimeException才回归异常。rollbackFor属性用于控制出现何种异常类型，回滚事务。

#### 事务属性-传播行为propagation

- 事务传播行为：指的就是当一个事务方法被另一个事务方法调用时，这个事务方法应该如何进行事务控制
- REQUIRED：大部分情况下都是用该传播行为即可。
- REQUIRES_NEW：当我们不希望事务之间相互影响时，可以使用该传播行为。比如：下订单前需要记录日志，不论订单保存成功与
  否，都需要保证日志记录能够记录成功
### AOP
#### AOP核心概念（底层：动态代理，生成动态代理对象Override方法）
- 连接点：JoinPoint，可以被AOP控制的方法（暗含方法执行时的相关信息）
- 通知：Advice，指哪些重复的逻辑，也就是共性功能（最终体现为一个方法）
- 切入点：Pointcut，匹配连接点的条件，通知仅会在切入点方法执行时被应用
- 切面：Aspect，描述通知与切入点的对应关系（通知+切入点）
- 目标对象：Target，通知所应用的对象
#### 通知类型
- @Around：环绕通知，此注解标注的通知方法在目标方法前、后都被执行
- @Before：前置通知，此注解标注的通知方法在目标方法前被执行
- @After：后置通知，此注解标注的通知方法在目标方法后被执行，无论是否有异常都会执行
- @AfterReturning：返回后通知，此注解标注的通知方法在目标方法后被执行，有异常不会执行
- @AfterThrowing：异常后通知，此注解标注的通知方法发生异常后执行
#### @Pointcut
该注解的作用是将公共的切点表达式抽取出来，需要用到时引用该切点表达式即可。
### 获取当前登录用户ID
获取request对象，从请求头中获取到jwt令牌，解析令牌获取出当前用户的id。
